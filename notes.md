Implement semaphore as chef resource?
